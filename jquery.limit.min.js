(function(e){function t(t,n){var r=0;e.each(t,function(e,t){r+=1;if(t.charCodeAt(0)==10&&n==true){r+=1}});return r}e.fn.limit=function(n){var r=e.extend({chars:100,counter:"#result",backendValidation:true},n);this.on("keyup",function(n){var i=r.backendValidation;var s=e(this).val();var o=t(s,i);if(o>r.chars){var u=o-r.chars;s=s.slice(0,s.length-u);e(this).val(s);o=t(s,i)}e(r.counter).html(r.chars-o);if(r.chars-o<=5){e(r.counter).addClass("warn")}else{e(r.counter).removeClass("warn")}});return this};})(jQuery)
